<!DOCTYPE html>
<html>
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap, style , Responsive CSS Files  -->
<link rel="stylesheet" type="text/css" href="css/backnd-style.css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600;700;900&display=swap" rel="stylesheet">

<!-- Owl Carousel -->
<link rel="stylesheet" type="text/css" href="css/owl.carousel.min.css">
<link rel="stylesheet" type="text/css" href="css/owl.theme.default.min.css">
<!-- Font Awesome 5 KIT Script -->
<script src="https://kit.fontawesome.com/a282321041.js" crossorigin="anonymous"></script>

<title>BUZZOID</title>
<style type="text/css">
input.site-btn {
    background-color: #ff603c !important;
    border-color: #ff603c !important;
}
input.site-btn:disabled {
    opacity: .5 !important;
}
.dashboard-wrap form a{
    display: inline;
    font-size: 14px;
}
  /* Example 2 (login form) */
    .login_form.modal {
      border-radius: 0;
      line-height: 18px;
      padding: 0;
      font-family: "Lucida Grande", Verdana, sans-serif;
    }

    .login_form h3 {
      margin: 0;
      padding: 10px;
      color: #fff;
      font-size: 14px;
      background: -moz-linear-gradient(top, #2e5764, #1e3d47);
      background: -webkit-gradient(linear,left bottom,left top,color-stop(0, #1e3d47),color-stop(1, #2e5764));
    }

    .login_form.modal p { padding: 20px 30px; border-bottom: 1px solid #ddd; margin: 0;
      background: -webkit-gradient(linear,left bottom,left top,color-stop(0, #eee),color-stop(1, #fff));
      overflow: hidden;
    }
    .login_form.modal p:last-child { border: none; }
    .login_form.modal p label { float: left; font-weight: bold; color: #333; font-size: 13px; width: 110px; line-height: 22px; }
    .login_form.modal p input[type="text"],
    .login_form.modal p input[type="email"],
    .login_form.modal p input[type="password"] {
      font: normal 12px/18px "Lucida Grande", Verdana;
      padding: 3px;
      border: 1px solid #ddd;
      width: 200px;
    }
    .error {
        padding: 0 0 0 112px;
        color: red;
        font-size: 13px;
        float: left;
    }
    @media screen and (max-width:992px) {
        .error {
            padding: 0;
            
        }
    }
</style>
</head>
<body>

{welcomeheader}
<section class="dashboard-wrap account-wrap">
    <div class="container">
        <div class="history-block">
            <h1>Account settings</h1>
        </div>
        <form id="form" method="post" class="form card card-tall-mo" >
            <label>Account Username</label>
            <p>{username} <a href="#ex1" rel="modal:open">(Change)</a></p>
            <!--<input type="text" name="username" class="required" placeholder="your@email.com" value="{username}">-->
            <label>Account email</label>
             <p>{userEmail} <a href="#ex2" rel="modal:open">(Change)</a></p>
            <!--<input type="text" name="email" class="required" placeholder="your@email.com" value="{userEmail}">-->
            <label>Current password</label>
            <!--<input type="password" name="old_password" id="old_password" placeholder="Current password">-->
            <p>******** <a href="#ex3" rel="modal:open">(Change)</a></p>
            <!--<label>New password</label>-->
            <!--<input type="password" name="new_password" id="new_password" placeholder="New password">-->
            <!--<div class="reg-block">-->
            <!--    <span>-->
            <!--        <input type="radio" disabled="" name="" id="capital_letter"> At least 1 capital letter-->
            <!--    </span>-->
            <!--    <span>-->
            <!--        <input type="radio" disabled name="" id="lowercase_letter"> At least 1 lowercase letter-->
            <!--    </span>-->
            <!--    <span>-->
            <!--        <input type="radio" disabled name="" id="number"> At least 1 number-->
            <!--    </span>-->
            <!--    <span>-->
            <!--        <input type="radio" disabled name="" id="8_characters"> At least 8 characters-->
            <!--    </span>-->
            <!--</div>-->
            <!--    <label>Confirm new password</label>-->
            <!--    <input type="password" name="confirm_password" id="confirm_password" placeholder="Confirm new password">-->
                <!--<div class="reg-block">-->
                <!--    <span> -->
                <!--    <input type="radio" disabled name="" id="new_and_confirm_password"> New password and password confirmation must match-->
                <!--</span>-->
            <!--    </div>-->
            <!--    <hr>-->
            <!--    <input type="hidden" name="id" value="{id}">-->
            <!--    <input type="submit" name="update" style="width: 18%" id="update" value="Save Changes" class="site-btn">-->
        </form>      
     
       
    </div>
</section>
<form action="settings.php" class="login_form modal" id="ex2" style="display:none;" method="post">
  <h3>Change Account Email</h3>
  <p><label>Email:</label><input type="email" name="email" class="required" value="{userEmail}" /></p>
   <input type="hidden" name="id" value="{id}">
  <p><input type="submit" name="update_email" value="Update" /></p>
</form>

<form action="settings.php" class="login_form modal" id="ex1" style="display:none;" method="post">
  <h3>Change Account Username</h3>
  <p><label>Username:</label><input type="text" name="username" class="required" value="{username}" /></p>
   <input type="hidden" name="id" value="{id}">
  <p><input type="submit" name="update_username" value="Update" /></p>
</form>

<form action="settings.php" class="login_form modal" id="ex3" style="display:none;" method="post">
  <h3>Change Password</h3>
  <p><label>Current Password:</label><input type="password" name="old_password" id="old_password" class="required" value="" /></p>
    <p><label>New Password:</label><input type="password" name="new_password" id="new_password" class="required" value="" />
      <div class="reg-block">
        <p>
        <label></label>    <input type="radio" disabled="" name="" id="capital_letter"> At least 1 capital letter
        </p>
        <p>
           <label></label> <input type="radio" disabled name="" id="lowercase_letter"> At least 1 lowercase letter
        </p>
        <p>
            <label></label> <input type="radio" disabled name="" id="number"> At least 1 number
        </p>
        <p>
           <label></label>  <input type="radio" disabled name="" id="8_characters"> At least 8 characters
        </p>
    </div>
      <p><label>Confirm Password:</label><input type="password" name="confirm_password" id="confirm_password" class="required" value="" /></p>
      <div class="reg-block">
                    <p> 
                    <input type="radio" disabled name="" id="new_and_confirm_password"> New password and password confirmation must match
                </p>
            </div>
   <input type="hidden" name="id" value="{id}">
   <input type="hidden" name="email" value="{userEmail}">
  <p><input type="submit" name="update_password" id="update_password" value="Update" /></p>
</form>
<!--Java Script Files-->


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />    
    <!-- Owl Carousel -->
    <script src="js/owl.carousel.min.js"></script>
    <!--Custom JS-->
    <script type="text/javascript" src="js/custom.js"></script>
    <script>
        $(document).ready(function () {
              $('#ex2').validate({
                errorElement: 'div',
                   rules: {
                    old_password: {
                      required: true,
                    },
                    new_password: {
                      required: true,
                    },
                    confirm_password: {
                      required: true,
                    },
                },
              messages: {
                email: {
                  required: 'Please enter Email Address.',
                  email: 'Please enter a valid Email Address.',
                },
              },
              submitHandler: function (form) {
                form.submit();
              }
            });
            
            $('#ex1').validate({
                errorElement: 'div',
                   rules: {
                     username: {
                      required: true,
                    },
                },
              messages: {
               username: {
                  required: 'Please enter Username.',
                },
              },
              submitHandler: function (form) {
                form.submit();
              }
            });
        });
        $("#ex3").validate({
             errorElement: 'div',
              rules: {
                    email: {
                      required: true,
                      email: true
                    },
                },
             submitHandler: function (form) {
                form.submit();
              }
        });
        var upperCase= new RegExp('[A-Z]');
        var lowerCase= new RegExp('[a-z]');
        var numbers = new RegExp('[0-9]');
        $("#new_password").keyup(function(e){
            var password = $('#new_password').val();
            $('#lowercase_letter').prop('checked', false);
            $('#capital_letter').prop('checked', false);
            $('#number').prop('checked', false);
            $('#8_characters').prop('checked', false);
            if(password.match(lowerCase)){
                $('#lowercase_letter').prop('checked', true);
            }
            if(password.match(upperCase)){
                $('#capital_letter').prop('checked', true);
            }
            if(password.match(numbers)){
                $('#number').prop('checked', true);
            }
            if(password.length >= 8){
                $('#8_characters').prop('checked', true);
                $("#confirm_password").prop('disabled', false);

            }
        });
        $("#old_password").keyup(function(e){
            $("#update_password").prop('disabled', true);
            var password = $('#old_password').val();
            if(password.length >= 8){
                $("#new_password").prop('disabled', false);

            }else{
                $("#new_password").prop('disabled', true);
                $("#confirm_password").prop('disabled', true);
            }
        });
        $("#confirm_password").keyup(function(e){
            var password = $('#confirm_password').val();
            if(password.length >= 8){
                if($('#new_password').val() == $('#confirm_password').val()){
                    $('#new_and_confirm_password').prop('checked', true);
                    $('#update_password').prop("disabled", false);
                }else{
                    $('#new_and_confirm_password').prop('checked', false);
                    $('#update_password').prop("disabled", true);
                }
            }
        });
        $("#new_password").prop('disabled', true);
        $("#confirm_password").prop('disabled', true);
    </script>
</body>
</html>