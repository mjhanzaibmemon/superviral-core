


{errorstyle}  

  <style type="text/css">
  .orderstatus{display: inline-block;
    width: 100%;
    padding: 10px;
    background-color: #f5f7fe;
    box-sizing: border-box;    margin: 41px 0;}
  .selectedposts{float: left;
    margin-top: 14px!important;
    color: #000!important;font-size:12px;}

    .selectedposts .amount_of_posts,.selectedposts .likes_per_post{ font-weight:bold;   display: unset!important; font-size: inherit!important;margin-top:0!important;color: #000;}
  
  .btn{width: 120px!important;
    float: right;text-align: center;
    margin: 0!important;
    padding: 9px 15px!important;}

.btnnxt{width:initial!important;display:inline-block;}

  .image_checkboxes{min-height:150px;display: flex;
    flex-wrap: wrap;position: relative;}

  .image_checkboxes .img-responsive{    position: relative;
    display: inline-block;
    width: 33%!important;
    height: initial!important;
    float: left;
    border: 2px solid transparent;
    overflow: hidden;
    box-sizing: border-box;
    margin: 0!important;}


  .image_checkboxes .img-responsive .amount{position:absolute;display:none;color: #fff;
      background: rgba(0,0,0,.65);
      margin: 0!important;
    height: 30px!important;
      text-align: center;
      box-sizing: border-box;
      width:100%!important;
      margin:0;
    font-size: 14px;
      line-height: 25px;}

  .image_checkboxes .img-responsive img{width:100%;height:100%;}
  .image_checkboxes .active{border-color:#4e03e0;}
  .image_checkboxes .active .amount{display:block;}

  .whichpackage{    text-align: center!important;
    font-size: 13px;
    color: #464646;
    margin-top: 3px;}
    
    .whichpackage a{    color: #4e03e0;
    text-decoration: underline;}

.problem li{margin-bottom:15px;}


.image_checkboxes .lds-dual-ring {
    display: inline-block;
    width: 92px;
    height: initial;
    position: absolute;
    margin-left: auto;
    margin-right: auto;
    left: 0;
    right: 0;
}
.lds-dual-ring:after {
  content: " ";
  display: block;
  width: 64px;
  height: 64px;
  margin: 8px;
  border-radius: 50%;
  border: 6px solid #1a73e7;
  border-color: #4e03e0 transparent #4e03e0 transparent;
  animation: lds-dual-ring 0.6s linear infinite;
}

#shownopostmsg{display:none;}


@keyframes lds-dual-ring {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}




#progressbar {
    background-color: #f5f7fe;
    border-radius: 21px;
    padding: 8px;
    width: 196px;
    height: 20px;
    border: 1px solid #c8acff;
    position: absolute;
    margin-left: auto;
    margin-right: auto;
    left: 0;
    right: 0;
    top: 111px;
}

#progressbar .innerbar {
  background-color: #4e03e0;
  width: 100%;
  height: 20px;
  border-radius: 10px;
  -webkit-animation: animateThis 15s ease;
  animation: loadingposts 15s ease;
}





@-webkit-keyframes loadingposts {
  0% {
    width: 20%;
  }
  100% {
    width: 100%;
  }
}

@keyframes loadingposts {
  0% {
    width: 20%;
  }
  100% {
    width: 100%;
  }
}





#shownopostmsg{display:none;}



 @media only screen and (min-width:540px){
   
 .image_checkboxes .img-responsive  {width: 150px!important;
height: 150px!important;
   margin: 4px!important;}

 }


@media only screen and (min-width: 768px){
.container {

    padding: 37px 3%!important;
}

}


.stepsbar {
  -webkit-animation: animateThis 1s ease;
  animation: animateThis 1s ease;
  background : rgb(78, 3, 224);
  height : 100%;
  width:75%;
}


@-webkit-keyframes animateThis {
  0% {
    width: 50%;
  }
  100% {
    width: 75%;
  }
}

@keyframes animateThis {
  0% {
    width: 50%;
  }
  100% {
    width: 75%;
  }
}


  </style>

    <div class="orderbody" align="center">


      <div class="cnwidth">

        {discountnotifcart}

      

        <div class="liveholder"><span class="livebox"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="livesvg"><path d="M256 0C115.4 0 0 115.4 0 256s115.4 256 256 256 256-115.4 256-256S396.6 0 256 0z"/></svg> Live</span><span id="livecount" class="livecount"></span> {usercheckoutlabel}</div>

        <form id="idform" method="POST">

        <div class="container dshadow" id="shownopostmsg" {shownopostmsg}>


            <h1 style="color: #e49300;font-size: 24px;">{errh1}</h1>
            <div style="margin-top: 26px;">{errdesc}

              <ul class="problem">

                <li>{errpoint1}</li>
                <li>{errpoint2}</li>



              </ul>
            <br><br></div>

            <a class="color4 btn dshadow" style="text-align: center;width: 100%!important;padding: 13px!important;" href="{back}">{errbtn1}</a>

            <a class="color4 btn dshadow" style="text-align: center;margin-top: 36px!important;width: 100%!important;padding: 13px!important;" href="?setpublic=true">{errbtn2}</a>


        </div>






        <div class="container dshadow" id="dontshowselectctn">

          <h1>{h1}</h1>
          <div class="whichpackage">{packagedesc} <a href="{changepackagehref}">{changepackage}</a></div>

          <div class="orderstatus">


            <div class="selectedposts">{selectedposts}</div>


              <input type="hidden" id="posts_selected" name="posts_selected">
              <input type="submit" style="display:none;" value="submit">
            
              
            <a onclick="submitform();" href="#" class="color4 btn btnnxt">{nextbtn} &raquo;</a>

          </div>


           <div id="loadpic" class="image_checkboxes">

           

            <div id="loadingdiv" class="lds-dual-ring"></div>




            <div id="progressbar">



              <div class="innerbar"></div>

    

            </div>














              
            </div>

          <div class="orderstatus">


            <div class="selectedposts">{selectedposts}</div>
              
            <a onclick="submitform();" href="#" class="color4 btn btnnxt">{nextbtn} &raquo;</a>

          </div>


        

        </div></form>

      </div>

    </div>





      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <script src="/js/orderform.js"></script>
 
<script type="text/javascript">


   var selected_list = JSON.parse('{selectedlist}');
   var limit = {postlimit};
   var max_amount_likes = {maxamount};
   var amount_of_posts = Object.keys(selected_list).length;

    update_selected_list();    

   $('.image_checkboxes').on( "click", "div", function() {
      var image = this;
      var input = $(this).prev();
      var value = $(image).attr('data-value');
      
      if(value in selected_list){
        delete selected_list[value];
      }else{
        if(amount_of_posts >= limit){return max_limit_hit();}
        selected_list[value] = value
      }
      amount_of_posts = Object.keys(selected_list).length;
      
      update_selected_list();
  });

   function max_limit_hit(){
    alert('{maxlimitreached}');
    return;
   }



   function update_selected_list(){
      var checkbox_cn = $('.img-responsive');
      $(checkbox_cn).each(function(){  
      var image = this;      
        var value = $(image).attr('data-value');
        if(value in selected_list){
          $(image).addClass('active');
        }else{
          $(image).removeClass('active');
        }
      });
      $('#posts_selected').val(JSON.stringify(selected_list));
      update_likes_statistics();
   }



  function update_likes_statistics(){  
    var likes_per_post =  Math.floor( max_amount_likes / amount_of_posts);
    

    if(likes_per_post == Infinity){likes_per_post=0;}

    $('.likes_per_post').html(likes_per_post);
    $('.amount_of_posts').html(amount_of_posts);
    $('.image_checkboxes div .amount').html('+' + likes_per_post + ' {divboxpckg}');
  }

function submitform(){

if(amount_of_posts=='0'){alert('{errorselect}');}else{document.getElementById('idform').submit();}

}

function liveusers(){
    var feedback = $.ajax({
        type: "GET",
        url: "https://superviral.io/livecheckout.php",
        async: false
    }).complete(function(){
        setTimeout(function(){liveusers();}, 3000);
    }).responseText;

    $('.livecount').html(feedback);


}

liveusers();

/*$("#loadpic").load("https://superviral.io/api/?datatype=thumbs&ordersession={ordersession}&username={username}{videosonly}", function(){
  update_selected_list();

if(this.innerHTML.indexOf("Error 3420")>=0){

document.getElementById("shownopostmsg").style.display = "block";
document.getElementById("dontshowselectctn").style.display = "none";

}

});*/

</script>
  